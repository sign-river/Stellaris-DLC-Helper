# 部署指南（整合）

本文件整合并替代了原英文 `DEPLOYMENT_GUIDE.md`，说明如何部署和验证 R2、国内云、GitHub 与 Gitee 上的 DLC 文件。已将检查/上传步骤与常见故障排除合并并本地化。

## 概述
本项目支持多源部署。部署完成后，运行 `tools/connectivity_test.py` 检查连通性并验证 `index.json` 与 `pairings.json` 的准确性。

## 主要步骤
1. 部署 R2 存储桶并确保 `https://dlc.dlchelper.top/dlc/` 可访问。
2. 在 `domestic_cloud` 部署 `index.json` 与 DLC 文件，检查文件目录与权限。
3. 在 GitHub 上创建发布 `ste4.2`，上传 `001.zip`..`039.zip` 并更新 `pairings.json`。
4. 在 Gitee 上创建 `ste1-26` 和 `ste27-39` 两个 release，并上传对应编号的文件。

## 验证步骤
- 运行 `python tools/connectivity_test.py` 检测 HTTP 状态码与下载测试
- 查看 `tools/show_test_candidates.py` 的输出，确认每个源都具有正确 test_url

## 常见问题与排查
- R2 无法访问：确认 Cloudflare R2 bucket 配置、CORS 与域名解析
- 国内云无法读取：检查 Nginx/Apache 配置、文件权限与 index.json 格式
- GitHub/Gitee release 无法访问：确认 repo 为公开、Tag 是否存在、文件名映射一致
