# 更新说明（整合）

本文件总结并翻译了原英文文档中的自动更新功能与多源下载部署说明（英文原文已删除），重点在于如何配置 `update/` 目录以及版本信息的格式。

## 自动更新功能
- 内置检测更新、下载、安装与回滚的工作流程
- 通过 `src/core/updater.py` 与 `src/gui/update_dialog.py` 协同进行
- 要求：服务器上有 `update/version.json` 与版本包 `v{version}/`

## 版本格式示例
```json
{
  "latest_version": "1.1.0",
  "force_update": false,
  "update_url": "https://example.com/update/v1.1.0/app.zip",
  "update_log": "https://example.com/update/v1.1.0/changelog.txt",
  "min_version": "1.0.0",
  "release_date": "2024-11-30",
  "file_size": "25.5MB",
  "checksum": "SHA256哈希值"
}
```

## 更新验证与回滚
- 下载完成后验证文件大小/哈希
- 若校验失败或安装异常，支持回滚到上一个版本

## 多源下载部署要点
- 部署时同时保持 R2、GitHub、国内云与 Gitee 多源镜像以保证高可用
- `pairings.json` 需与 GitHub/Gitee release 文件名一致
